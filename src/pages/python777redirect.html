<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.5/brython.min.js"></script>
    <style>
        #message {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ ì²˜ë¦¬ */
            width: 300px;
            height: 100px;
            background-color: lightblue;
        }
    </style>
</head>
<body onload="brython()">
    <h1>ì¼ê³±ë²ˆì˜ ê¸°íšŒê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤! </h1>

    <input type="text" id="userInput" placeholder="ğŸ‘» 1ë¶€í„° 100ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš” ğŸ‘»">
    <button id="submitBtn">GO !</button>
    <p id="message">ê²°ê³¼ ë©”ì‹œì§€ê°€ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
    <div id="record"></div>

    <script type="text/python">
        from browser import document,window

        answer_q = int(window.Math.random() * 100) + 1
        shoot = 0

        def guess_number(event):
            global shoot
            user_input = document["userInput"].value
            message = document["message"]

            record = document["record"]

            if not user_input.isdigit():
                message.text = "ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”!"
                message.style.display = "block"  # ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ display ì†ì„± ë³€ê²½
                return

            chance = int(user_input)
            shoot += 1

            

            if chance == answer_q:
                message.text = f"ã…Šã…‹ã…Šã…‹ ì •ë‹µ! ì´ {shoot}ë²ˆ ì‹œë„ ëì— ì„±ê³µ!"
            elif shoot >= 7:
                message.text = f"ì‹¤íŒ¨ì§€ë¡±! ì •ë‹µì€ {answer_q}~~!"
            elif chance > answer_q:
                message.text = f"ì •ë‹µë³´ë‹¤ í½ë‹ˆë‹¤. ì´ {7 - shoot}ë²ˆ ë‚¨ìŒ."
            else:
                message.text = f"ì •ë‹µë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤. ì´ {7 - shoot}ë²ˆ ë‚¨ìŒ."


            document["userInput"].value = ""
            message.style.display = "block"  # ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ display ì†ì„± ë³€ê²½

            # ìƒˆë¡œìš´ p ìš”ì†Œ ìƒì„± í›„ ê¸°ë¡ ë‚¨ê¸°ê¸°
            new_record = document.createElement('p')
            new_record.text = f"ì‹œë„ {shoot}: ì…ë ¥í•œ ê°’ = {chance}, ê²°ê³¼ = {message.text}"
            record <= new_record  # ìƒˆ p íƒœê·¸ë¥¼ ê¸°ë¡ ì˜ì—­ì— ì¶”ê°€


        # ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ì— guess_number í•¨ìˆ˜ ë°”ì¸ë”©
        document["submitBtn"].bind("click", guess_number)
    </script>
</body>
</html>
